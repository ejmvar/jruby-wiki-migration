{"href":"https://kenai.com/api/projects/jruby/features/wiki/pages/ReleaseDocumentation/revisions/19.json","name":"ReleaseDocumentation","number":19,"page_href":"https://kenai.com/api/projects/jruby/features/wiki/pages/ReleaseDocumentation.json","person":"enebo","description":"","text":"= JRuby release preparation =\n\n* Make sure a release has no blockers (tests in later steps are good at shagging issues out)\n* Preliminary testing\n** Try and determine if we break any common extensions (jruby-rack, ar-jdbc, joni, jsr233 impl, ...)\n** Create a test dist file\n*** Verify bin works\n*** Verify src with 'ant test' and 'ant spec'\n*** Install a gem or two\n* Create new branch [Only for RC1]\n** grb create jruby-1_5\n* [branch] Update default.build.properties to reflect new version [1.5.0.RC1]\n* [branch] Update maven poms: jruby -S rake maven:updatepoms VERSION={newversion}\n* [master] Update default.build.properties to reflect next version [ -> 1.6.0.dev]\n* [master] Update maven poms: jruby -S rake maven:updatepoms VERSION={newversion}\n* Make tag using git tag: '''git tag X.Y'; git push --tags'' \n* Check out clean clone of release branch: cd .. && rm -rf release && git clone jruby release && cd release (for example)\n* Set your java version to Java 5 for building the release.\n* Run '''ant dist''' to generate source and binary distribution files, jruby-complete jar, and MD5/SHA checksum files.\n* Run '''jruby -S rake installer''' to generate both Windows installers.\n* Make 'ant test' runs on Linux, MacOS, and Windows with produced source distribution\n* Verify common tasks as extra sanity check (Windows + one other system) [with binary distro -- try some with .zip dist and some with .tar.gz dist]:\n** jruby samples/swing2.rb\n** jruby -S jirb\n** install rails + ar-jdbc\n*** setup simple web app and exercise it\n*** install and run goldberg (actually any more sophisticated app you know works)\n* Upload dist files, jruby-complete.jar, and MD5 files to https://kenai.com/website/jruby/downloads/{version}\n* Replace existing content in https://kenai.com/website/jruby/downloads/current with the updated release files\n* Build and release jruby-jars gem: cd gem && jruby -S rake package && jruby -S rake release VERSION={final-version}\n* mvn deploy -DupdateReleaseInfo=true for each mvn artifact\n* Add news item to www.jruby.org page \n* Update MainPage on JRuby wiki pointing to new binary\n* Update Ruby Application Archive\n* Close all resolved bugs associated with the release in JIRA\n* Release the version in JIRA\n* Send emails to dev@jruby.codehaus.org, user@jruby.codehaus.org, ruby-talk@ruby-lang.org (plus any thing else you may find useful -- internal lists, etc...)\n* Update wikipedia entry\n* Request MacPorts update [not for RCs]\n** File a request ticket to update MacPorts at http://guide.macports.org/#project.tickets\n*** Provide a portfile patch, ideally, similar to http://guide.macports.org/#development.patches.portfile\n** Email macports-dev list to ensure the ticket gets noticed: http://lists.macosforge.org/mailman/listinfo/macports-dev/\n* Send kmeyer email about Redhat/Fedora packaging [not for RCs]\n* update [[GettingStarted]] to point to the latest release [not for RCs].\n","created_at":"2010-04-15T21:26:34Z","content_type":"application/vnd.com.kenai.page.revision+json"}