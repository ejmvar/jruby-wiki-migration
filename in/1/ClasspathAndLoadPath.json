{"href":"https://kenai.com/api/projects/jruby/features/wiki/pages/ClasspathAndLoadPath/revisions/1.json","name":"ClasspathAndLoadPath","number":1,"page_href":"https://kenai.com/api/projects/jruby/features/wiki/pages/ClasspathAndLoadPath.json","person":"john_brock","description":"","text":"Prior to JRuby 1.1, Java's Classpath (CLASSPATH) and Ruby's Load Path were largely separate. This document describes the unification of the two paths in JRuby 1.1.\r\n\r\n==Load Path==\r\n\r\nJRuby supports the concept of a \"load path\" as per Ruby 1.8. The load path contains filesystem directories to be used as the \"root\" when searching for scripts to load or execute.\r\n\r\nScript files contained within the load path can be loaded using the 'require' or 'load' kernel methods. The differences between these two mechanisms are discussed in more depth on the [http://www.headius.com/rubyspec RubySpec Wiki].\r\n\r\nLoad path is a lazier, more implicit form of pathing than Java's classpath, since libraries on the load path must still be explicitly loaded to become available.\r\n\r\n==Classpath==\r\n\r\nJava applications have their own path logic used for locating .class files called the \"classpath\". The classpath is typically set up through the CLASSPATH environment variable or passed to the 'java' command using -cp or -classpath with a delimited list of filesystem locations.\r\n\r\nClasspath entries typically must contain one of two things:\r\n\r\n* The root from which a directory structure containing class files can be searched\r\n* A JAR file containing that same structure\r\n\r\nClasspath is a more explicit form of pathing than load path, since everything in the classpath can be referenced from compiled code; no load step is needed, though the JVM will perform a load-on-demand as class dependencies require.\r\n\r\n==Classpath and Load Path Unification==\r\n\r\nBecause the operation of Java's classpath and Ruby's load path are so similar, especially under JRuby, they are unified under JRuby 1.1. This results in a number of unified capabilities:\r\n\r\n* Everything in the Ruby load path is considered to be a classpath entry, so .class files under load path hierarchies are automatically available to be referenced from code.\r\n* Everything in the Java classpath is considered to be a load path entry, so .rb scripts contained in e.g. JAR files are loadable.\r\n* Structures specific to the Java classpath (such as JAR files and remote URLs) can be specified as load path entries. This allows explicitly adding JAR files and remote servers locations to the JRuby load path, as though they were local paths.\r\n\r\nLargely this unification is intended to make it simpler to work with hybrid applications, where some code is in Ruby and some is in Java, and especially cases where Ruby code is being pre-compiled to Java bytecode, straddling the two worlds.\r\n","created_at":"2008-08-12T21:07:25Z","content_type":"application/vnd.com.kenai.page.revision+json"}