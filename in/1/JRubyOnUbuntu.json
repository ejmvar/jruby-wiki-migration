{"href":"https://kenai.com/api/projects/jruby/features/wiki/pages/JRubyOnUbuntu/revisions/1.json","name":"JRubyOnUbuntu","number":1,"page_href":"https://kenai.com/api/projects/jruby/features/wiki/pages/JRubyOnUbuntu.json","person":"john_brock","description":"","text":"You may find that even though you have an up-to-date JDK installed, JRuby does not work on Ubuntu.  When running\r\n\r\n jruby -v\r\n\r\nYou may get errors like:\r\n\r\n'''java.lang.NoSuchFieldException: fd'''\r\n\r\n'''at java.lang.Class.getDeclaredField(libgcj.so.81)'''\r\n\r\n(Note: this will be fixed with JRuby 1.1 RC3, though it's uncertain whether all issues running under GCJ will be resolved.)\r\n\r\nAnd so on.\r\n\r\nThe reason for this may be that even though you have an up-to-date JDK installed, Ubuntu is not using it by default.  You need to update your configuration to use the proper JDK.  See https://help.ubuntu.com/community/Java for more information on this issue.\r\n\r\nOn Ubuntu 7.10, when I ran:\r\n\r\n java -version\r\n\r\nI saw the following:\r\n\r\n'''java version \"1.5.0\"'''\r\n\r\n'''gij (GNU libgcj) version 4.2.1 (Ubuntu 4.2.1-5ubuntu5)'''\r\n\r\nI then ran:\r\n\r\n sudo update-alternatives --config java\r\n\r\nI picked the option that said \"/usr/lib/jvm/java-6-sun/jre/bin/java\"  Following that, running:\r\n\r\n java -version\r\n\r\nGave me:\r\n\r\n'''java version \"1.6.0_03\"'''\r\n\r\n'''Java(TM) SE Runtime Environment (build 1.6.0_03-b05)'''\r\n\r\n'''Java HotSpot(TM) Server VM (build 1.6.0_03-b05, mixed mode)'''\r\n\r\nAnd JRuby then worked fine.\r\n","created_at":"2008-08-12T00:48:17Z","content_type":"application/vnd.com.kenai.page.revision+json"}